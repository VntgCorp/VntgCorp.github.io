<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    

    
    <title>Metabase를 활용한 통계데이터 시각화 | VNTG 기술블로그</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="" />
    
    <meta name="description" content="1. 메타베이스란? 2. 화면 구성 3. 컬렉션 4. 연동된 데이터소스 5. 퀘스천 심플 퀘스천 커스텀 퀘스천 네이티브 쿼리 시각화   6. 대시보드 7. 후기  안녕하세요, VNTG Dataforge 팀 데이터 엔지니어 유성열입니다. 데이터 엔지니어는 기업에서 발생하는 데이터들을 수집하고, 가공, 저장하여 관리하는 업무를 담당합니다. 데이터를 분석하려면">
<meta property="og:type" content="article">
<meta property="og:title" content="Metabase를 활용한 통계데이터 시각화">
<meta property="og:url" content="https://vntgcorp.github.io/metabase_visualization/index.html">
<meta property="og:site_name" content="VNTG 기술블로그">
<meta property="og:description" content="1. 메타베이스란? 2. 화면 구성 3. 컬렉션 4. 연동된 데이터소스 5. 퀘스천 심플 퀘스천 커스텀 퀘스천 네이티브 쿼리 시각화   6. 대시보드 7. 후기  안녕하세요, VNTG Dataforge 팀 데이터 엔지니어 유성열입니다. 데이터 엔지니어는 기업에서 발생하는 데이터들을 수집하고, 가공, 저장하여 관리하는 업무를 담당합니다. 데이터를 분석하려면">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://vntgcorp.github.io/image/metabase_logo.png">
<meta property="article:published_time" content="2022-01-13T06:00:00.000Z">
<meta property="article:modified_time" content="2022-01-13T02:28:35.622Z">
<meta property="article:author" content="VNTG">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://vntgcorp.github.io/image/metabase_logo.png">
    

    
        <link rel="alternate" href="http://blog.vntgcorp.com/" title="VNTG 기술블로그" type="application/atom+xml" />
    

    
        <link rel="icon" href="/../image/favntg.png" />
    

    
<link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">

    
<link rel="stylesheet" href="/libs/titillium-web/styles.css">

    
<link rel="stylesheet" href="/libs/source-code-pro/styles.css">


    
<link rel="stylesheet" href="/css/style.css">


    
<script src="/libs/jquery/3.5.0/jquery.min.js"></script>

    
    
    
        
<link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">

    
    
        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4TM9D66BJC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4TM9D66BJC');
</script>
    
    
    


<meta name="generator" content="Hexo 5.4.0"></head>

<body>
    <div id="wrap">
        <header id="header">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle"><span style="color:black"><strong>Tech Blog</strong></span></p>
                        </h2>
                    
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">Home</a>
                                </li>
                            
                                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/ClickUp/">ClickUp</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Data/">Data</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Data/Grafana/">Grafana</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Data/Level2/">Level2</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Data/Metabase/">Metabase</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/DevOps/">DevOps</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/DevOps/CICD/">CICD</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/DevOps/Terraform/">Terraform</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Docker/">Docker</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/FastAPI/">FastAPI</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Git/">Git</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Static-Site-Generator/">Static Site Generator</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Static-Site-Generator/Gatsby/">Gatsby</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/Static-Site-Generator/Hexo/">Hexo</a></li></ul></li></ul>
                                
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>


</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    <a class="page-title-link" href="/categories/Data/">Data</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/Data/Metabase/">Metabase</a>
    </h1>
</div>

                        <div class="main-body-content">
                            <article id="post-metabase_visualization" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
        Metabase를 활용한 통계데이터 시각화
        </h1>
    

            </header>
        
        
            <div class="article-meta">
                
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/metabase_visualization/" class="article-date">
       <time datetime="2022-01-13T06:00:00.000Z" itemprop="datePublished">2022-01-13</time>
    </a>
  </div>


<div class="article-date">
  <i class="fa fa-calendar-plus-o"></i>
  <a href="/metabase_visualization/" class="article-date">
     <time datetime="2022-01-13T02:28:35.622Z" itemprop="dateModified">2022-01-13</time>
  </a>
</div>


                

                
                

                

            </div>
        
        
        <div class="article-entry" itemprop="articleBody">
            

            

            

            <ul>
<li><a href="#1-%EB%A9%94%ED%83%80%EB%B2%A0%EC%9D%B4%EC%8A%A4%EB%9E%80">1. 메타베이스란?</a></li>
<li><a href="#2-%ED%99%94%EB%A9%B4-%EA%B5%AC%EC%84%B1">2. 화면 구성</a></li>
<li><a href="#3-%EC%BB%AC%EB%A0%89%EC%85%98">3. 컬렉션</a></li>
<li><a href="#4-%EC%97%B0%EB%8F%99%EB%90%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%86%8C%EC%8A%A4">4. 연동된 데이터소스</a></li>
<li><a href="#5-%ED%80%98%EC%8A%A4%EC%B2%9C">5. 퀘스천</a><ul>
<li><a href="#%EC%8B%AC%ED%94%8C-%ED%80%98%EC%8A%A4%EC%B2%9C">심플 퀘스천</a></li>
<li><a href="#%EC%BB%A4%EC%8A%A4%ED%85%80-%ED%80%98%EC%8A%A4%EC%B2%9C">커스텀 퀘스천</a></li>
<li><a href="#%EB%84%A4%EC%9D%B4%ED%8B%B0%EB%B8%8C-%EC%BF%BC%EB%A6%AC">네이티브 쿼리</a></li>
<li><a href="#%EC%8B%9C%EA%B0%81%ED%99%94">시각화</a></li>
</ul>
</li>
<li><a href="#6-%EB%8C%80%EC%8B%9C%EB%B3%B4%EB%93%9C">6. 대시보드</a></li>
<li><a href="#7-%ED%9B%84%EA%B8%B0">7. 후기</a></li>
</ul>
<p>안녕하세요, VNTG Dataforge 팀 데이터 엔지니어 유성열입니다. 데이터 엔지니어는 기업에서 발생하는 데이터들을 수집하고, 가공, 저장하여 관리하는 업무를 담당합니다. 데이터를 분석하려면 그에 관련된 데이터들이 정리가 되어있어야 하는데, 분석에 필요한 흩어진 데이터를 수집하고 관리하는 역할을 한다고 생각하시면 좋을 것 같습니다. 저는 현재 팀의 업무 프로세스를 이해하고, 수집된 데이터를 시각화하는 일을 담당하고 있습니다.</p>
<p>수집, 가공한 데이터를 분석하기에 앞서 알아보기 쉬운 형태로 시각화하는 작업이 필요한데, 이러한 작업에 사용되는 툴을 BI(Business Intelligence)툴이라고 합니다. BI툴을 이용해 전문가의 도움 없이도 데이터를 시각적으로 구성하고, 그것을 분석하여 기업의 관리자부터 현장 직원까지 데이터를 기반으로 의사결정이 가능합니다. 실제로 많은 기업에서 보고서와 데이터 분석, 의사결정 등에 BI툴을 활용하고 있으며 툴의 종류 또한 다양합니다. 그 중 현재 저희 팀에서 사용하고 있는 <strong>‘메타베이스’라는 툴을 활용하여 시각화와 대시보드를 구성하는 방법</strong>에 대해 간단하게 작성해보려고 합니다.</p>
<h2 id="1-메타베이스란"><a href="#1-메타베이스란" class="headerlink" title="1. 메타베이스란?"></a>1. 메타베이스란?</h2><center>
<img src="../image/metabase01.png" width="800">
메타베이스 대시보드 화면
</center>

<p>메타베이스는 오픈소스 BI툴로써 퀘스천이라는 쿼리 기능을 통해 분석하고자 하는 데이터에 질문을 던지고 얻은 결과를 시각화하여 분석할 수 있게 해주는 툴입니다. 오라클, MySQL과 같은 RDB부터 AWS Redshift, 구글 BigQuery 등 DW까지 다양한 데이터소스(<a target="_blank" rel="noopener" href="https://www.metabase.com/datasources/">Data sources</a>)를 지원하여 방대한 양의 데이터를 통계, 분석할 수 있고, GUI로 구성된 쿼리 에디터를 통해 SQL에 익숙하지 않더라도 클릭만으로 간편하게 시각화 대시보드를 구성하고 분석할 수 있습니다. 이번 포스팅에서는 핵심적인 기능 설명과 퀘스천을 만드는 방법, 만든 퀘스천을 대시보드에 배치하는 것까지 설명을 드리도록 하겠습니다.</p>
<hr>
<h2 id="2-화면-구성"><a href="#2-화면-구성" class="headerlink" title="2. 화면 구성"></a>2. 화면 구성</h2><center><img src="../image/metabase02.png" width="800"></center>

<p>먼저, 메타베이스에 접속을 하면 위처럼 메인 화면이 구성되어 있습니다. 화면 구성은 현재 사용자의 권한으로 접근할 수 있는 컬렉션 목록과, 연동된 데이터소스 목록으로 되어 있습니다. 우상단 빨갛게 네모칸 표시된 메인 메뉴에는 쿼리를 만들 수 있는 퀘스천 생성 버튼과 퀘스천을 배치할 수 있는 대시보드 생성 버튼 등이 있습니다. <strong>메인 메뉴</strong>에 대해 간단하게 설명드리면 아래와 같습니다.</p>
<center>
<img src="../image/metabase03.png" width="800">
Ask a question 버튼을 클릭하면 나오는 퀘스천 종류 선택 페이지
</center>

<p><strong>① Ask a question</strong> : GUI 방식인 <strong>심플</strong>, <strong>커스텀 퀘스천</strong>과 SQL 방식인 <strong>네이티브 쿼리</strong> 세 종류로 구분되는데, 밑에서 자세하게 다루겠습니다.<br><strong>② Browse data</strong> : 연동된 데이터소스 목록 조회 기능입니다.<br><strong>③ Create</strong> : 대시보드와 펄스를 생성할 수 있습니다.<br>(펄스는 주기적으로 대시보드 정보를 받아보는 기능인데, 대시보드 구독으로 대체될 예정입니다.)<br><strong>④ Write SQL</strong> : Ask a question의 네이티브 쿼리 기능과 동일합니다.<br><strong>⑤ Settings</strong> : 계정, 어드민 설정이나 사용자 기록 확인이 가능합니다.</p>
<p>메인 메뉴 기능들 중 퀘스천과 대시보드를 생성하는 <strong>①</strong>, <strong>③</strong>번 버튼을 주의깊게 보시면 될 것 같습니다. 퀘스천이나 대시보드를 생성하기에 앞서 저장할 경로와, 어떤 데이터에 질문을 던질 것인지 먼저 설정을 해야 하기 때문에, <strong>퀘스천과 대시보드를 저장하는 컬렉션</strong>과, <strong>데이터소스의 필드 설정</strong>에 대해 먼저 설명을 드리겠습니다.</p>
<hr>
<h2 id="3-컬렉션"><a href="#3-컬렉션" class="headerlink" title="3. 컬렉션"></a>3. 컬렉션</h2><center><img src="../image/metabase04.png" width="800"></center>

<p>메인 화면에서 목록에 있는 컬렉션을 클릭하거나 Browse all items를 클릭하면 컬렉션 목록 페이지로 이동할 수 있습니다. 컬렉션은 간단하게 <strong>퀘스천, 대시보드가 저장되는 폴더</strong>라고 생각하시면 됩니다. 컬렉션은 다른 사용자와 공유되는 <strong>Our analytics</strong>와 사용자 개인 공간인 <strong>Your personal collection</strong> 두 가지로 나뉩니다. 왼쪽 목록에서 이동하려는 컬렉션을 클릭하면 해당 컬렉션에 저장된 <strong>대시보드와 퀘스천 목록</strong>을 조회할 수 있습니다.</p>
<center>
<img src="../image/metabase05.png" width="800">
①컬렉션 접근 권한 설정 ②컬렉션 수정/삭제 ③컬렉션 생성
</center>

<p>그리고 컬렉션 이름 우측에는 <strong>컬렉션 메뉴</strong>가 있는데 번호 순서대로 각각 권한 설정, 컬렉션 수정 및 삭제, 생성 기능입니다.</p>
<center>
<img src="../image/metabase06.png" width="600">
컬렉션 생성창
</center>

<p>③번 컬렉션 생성만 간단하게 설명드리면, 컬렉션 이름과 설명(선택사항)을 적고, 컬렉션이 저장될 경로를 설정한 다음 Create 버튼을 누르면 컬렉션을 생성할 수 있습니다. 아래에서 설명할 퀘스천과 대시보드도 동일한 방식으로 생성할 수 있습니다.</p>
<hr>
<h2 id="4-연동된-데이터소스"><a href="#4-연동된-데이터소스" class="headerlink" title="4. 연동된 데이터소스"></a>4. 연동된 데이터소스</h2><p>다음은 중요한 부분인 데이터소스 조회와 설정입니다. 퀘스천을 작성하기 전에 어떤 데이터에 질문을 던져야 하는지 찾아보고, 설정할 수 있는 기능입니다. 메인 화면에서 메인 메뉴의 <strong>Browse data</strong> 아이콘이나 <strong>데이터소스 목록 중 하나</strong>를 클릭하면 해당 데이터소스의 스키마와 테이블 정보를 확인할 수 있습니다. 테이블 목록에 마우스를 오버하면 아래처럼 <strong>사전 아이콘</strong>이 나오는데, 클릭하면 테이블의 상세정보를 확인할 수 있습니다.</p>
<center>
<img src="../image/metabase07.png" width="800">
테이블 상세 정보 조회
</center>

<p>테이블의 컬럼을 메타베이스에서는 <strong>필드</strong>라고 하는데 <strong>필드명</strong>은 해당 컬럼의 별명이라고 생각하시면 됩니다. 심플, 커스텀 퀘스천을 만들 때 필드명으로 조회되므로 상세하게 설정하면 보다 쉽게 퀘스천을 만들 수 있습니다.</p>
<center>
<img src="../image/metabase08.png" width="400">
필드타입 설정
</center>

<p>그리고 실제 데이터타입 대신 <strong>필드타입</strong>(<a target="_blank" rel="noopener" href="https://www.metabase.com/docs/latest/users-guide/field-types.html">Field Types</a>)이 사용되는데, 필드타입 <strong>Entity Key</strong>, <strong>Foreign Key</strong>는 RDB의 PK, FK와 동일한 개념입니다. DB에서 PK, FK로 설정된 컬럼을 Entity Key, Foreign Key로 설정하면 퀘스천을 작성할 때 사용자가 직접 테이블을 조인하지 않아도 키가 연결된 테이블끼리 자동으로 조인되어 편리하게 사용할 수 있게 해줍니다.</p>
<p>필드타입이 제대로 설정되어있지 않다면 조인된 테이블 컬럼을 자동으로 불러오거나 대시보드에서의 필터 적용 등 메타베이스의 편리한 기능들을 제대로 활용할 수 없기 때문에 퀘스천을 만들기 전에 반드시 체크하고 넘어가야 하는 중요한 부분이라고 할 수 있겠습니다.</p>
<hr>
<h2 id="5-퀘스천"><a href="#5-퀘스천" class="headerlink" title="5. 퀘스천"></a>5. 퀘스천</h2><p>다음은 퀘스천입니다. 퀘스천은 연동된 데이터소스에 질문(쿼리)을 던지고 그에 대한 답을 시각적으로 표현해주는 기능입니다. 앞서 Ask a question 메뉴에서 설명드렸던 것처럼, GUI 방식으로 쿼리를 작성할 수 있는 심플, 커스텀 퀘스천과 직접 SQL로 작성하는 네이티브 쿼리 세 가지 방식이 있습니다.</p>
<h3 id="심플-퀘스천"><a href="#심플-퀘스천" class="headerlink" title="심플 퀘스천"></a>심플 퀘스천</h3><center>
<img src="../image/metabase09.png" width="800">
심플 퀘스천
</center>

<p>심플 퀘스천은 테이블(①, ②)만 선택하면 바로 테이블의 데이터를 화면에 출력해주며, 필터와 서머라이즈 탭(③)으로 필터링되는 데이터를 바로바로 확인하면서 퀘스천을 작성할 수 있는 기능입니다. 간단하게 하나의 테이블에서 데이터를 시각화 하고자 할 때 사용할 수 있습니다. 서머라이즈나 필터를 바꿀 때마다 차트가 새로고침 되는 만큼, 데이터 양이 많다면 시간이 오래 걸릴 수도 있습니다.</p>
<h3 id="커스텀-퀘스천"><a href="#커스텀-퀘스천" class="headerlink" title="커스텀 퀘스천"></a>커스텀 퀘스천</h3><center>
<img src="../image/metabase10.png" width="800">
커스텀 퀘스천
</center>

<p>커스텀 퀘스천은 데이터소스, 테이블을 선택하는 것은 심플 퀘스천과 동일하지만, 먼저 데이터를 출력하고 필터링을 하는 게 아닌 쿼리 에디터 페이지에서 테이블 조인이나, 커스텀 컬럼, 수식 등 심플 퀘스천보다 복잡한 쿼리를 작성한 후 시각화를 할 때 사용하는 퀘스천 기능입니다. 조건 설정을 하고 시각화(⑤)를 한 이후에는 심플퀘스천 화면으로 넘어가며 심플 퀘스천과 동일하게 편집이 가능하고, 심플 퀘스천 우측 상단 三 모양 아이콘(심플퀘스천 그림 ③)을 클릭하면 다시 커스텀 퀘스천 에디터 화면으로 넘어와 쿼리를 편집할 수 있고, 三 아이콘 옆에 있는 SQL로 보기/변환 버튼을 클릭하면 현재 작성한 쿼리가 SQL로 어떻게 변환되는지 확인하고, 네이티브 쿼리 에디터로 변환할 수도 있습니다.</p>
<h3 id="네이티브-쿼리"><a href="#네이티브-쿼리" class="headerlink" title="네이티브 쿼리"></a>네이티브 쿼리</h3><center>
<img src="../image/metabase11.png" width="800">
SQL로 작성한 네이티브 쿼리
</center>

<p>네이티브 쿼리는 클릭으로 작성할 수 있는 GUI 쿼리 에디터 방식이 아닌 직접 SQL로 쿼리를 작성하는 퀘스천 기능입니다. SQL에 익숙한 사용자라면 심플, 커스텀 방식보다 편리할 수 있지만 피벗같은 시각화 기능은 네이티브 쿼리에서 제대로 지원하지 않기 때문에 심플, 커스텀 퀘스천을 주로 사용하고, 복합키로 테이블 조인을 거는 등의 기능은 현재 메타베이스에서 지원되지 않기 때문에 GUI 쿼리 에디터로 퀘스천을 만들기 힘든 경우 네이티브 쿼리를 사용하는 것을 추천합니다. 그리고 GUI 쿼리 에디터의 경우는 클릭으로 작성한 퀘스천을 데이터소스에 맞는 SQL로 알아서 변환해주지만, 네이티브 쿼리는 변환해주지 않으므로 사용할 데이터소스에서 지원하는 문법에 맞게 작성해야 하는 차이가 있습니다. 또한 WHERE절에 변수(<a target="_blank" rel="noopener" href="https://www.metabase.com/docs/latest/users-guide/13-sql-parameters.html">13 Sql Parameters</a>)를 직접 선언해야 대시보드 필터와 매핑이 가능합니다.</p>
<h3 id="시각화"><a href="#시각화" class="headerlink" title="시각화"></a>시각화</h3><p>위 세 가지 방법 중 하나로 쿼리를 작성하여 데이터를 가져왔다면, 이제 그 데이터를 어떻게 효과적으로 보여줄지를 선택해야 합니다. 저는 심플 퀘스천을 기준으로 설명을 드리겠습니다.</p>
<p>만약 샘플 데이터를 활용해서 <em><strong>“최근 3년 동안의 월별 주문 수는 얼마일까?”</strong></em> 라는 질문을 던진다면 아래처럼 퀘스천을 작성하고, 데이터를 보면서 편집할 수 있습니다.</p>
<center><img src="../image/metabase12.png" width="800"></center>

<p>먼저 심플 퀘스천에서 설명드린 것처럼 Sample Dataset의 ORDERS 테이블을 선택해서 데이터를 출력한 다음,</p>
<center><img src="../image/metabase13.png" width="800"></center>

<p>우측 상단 필터에서 날짜(CREATED_AT)를 Previous 3 Years로 설정하고, 서머라이즈 탭으로 가서 날짜(CREATED_AT)를 월로 그룹바이(by month) 해주면 최근 3년 동안의 데이터를 월 단위로 묶게 됩니다. 그리고 Count를 선택하면 GUI로 간단하게 최근 3년 동안의 월별 주문 수에 대한 데이터를 가져올 수 있습니다. 서머라이즈, 필터 조건을 선택하면 메타베이스에서 지원하는 차트 중 자동으로 가져온 데이터에 맞는 시각화 차트를 선택해주는데, 메타베이스에서는 16가지의 시각화를 지원하고 있습니다.</p>
<p>
<img src="../image/metabase14.png" width="320" align="left">
</p>
<br>
<br>
&nbsp;&nbsp;각 시각화에 대해 간단히 소개합니다.

<p>&nbsp;&nbsp;-   Line : 각 데이터가 선분으로 연결된 차트<br>&nbsp;&nbsp;-   Bar : 각 데이터를 막대로 나타낸 차트<br>&nbsp;&nbsp;-   Combo : 선분과 막대가 조합된 차트<br>&nbsp;&nbsp;-   Area : 라인차트에서 영역에 색이 추가된 차트<br>&nbsp;&nbsp;-   Row : 가로로 표현된 막대차트<br>&nbsp;&nbsp;-   Waterfall : 등락과 총합을 표현하는 차트<br>&nbsp;&nbsp;-   Scatter : 데이터의 양과 분포를 표현하는 차트<br>&nbsp;&nbsp;-   Pie : 카테고리별 비율을 나타내는 차트<br>&nbsp;&nbsp;-   Funnel : 가로 깔대기 모양 차트<br>&nbsp;&nbsp;-   Trend : 이전 데이터 대비 증감 표현 차트<br>&nbsp;&nbsp;-   Progress : 진행도를 나타내는 차트<br>&nbsp;&nbsp;-   Gauge : 온도 등 게이지를 나타내는 차트<br>&nbsp;&nbsp;-   Number : 하나의 숫자 표현<br>&nbsp;&nbsp;-   Table : 일반적인 테이블 차트<br>&nbsp;&nbsp;-   Pivot Table : 피벗테이블 차트<br>&nbsp;&nbsp;-   Map : 지역 정보 데이터를 지도에 표시할 수 있는 차트</p>
<br>
<br>

<center>
<img src="../image/metabase15.png" width="800">
Bar 차트로 시각화
</center>

<br>
<br>

<center>
<img src="../image/metabase16.png" width="800">
Bar 차트 옵션
</center>

<p>지금은 Bar 차트로 퀘스천을 시각화해보겠습니다. 퀘스천 작성 화면의 좌측 하단 Visualization 버튼을 클릭해서 Bar를 선택하면 차트 형태가 막대로 바뀌고 Settings로 탭이 넘어가는데, 해당 탭에서는 각 시각화에 맞는 옵션을 설정할 수 있습니다. 방금 설정한 Bar 차트의 경우는 위 그림처럼 축, 데이터 누적 여부, 레이블 설정 등이 가능합니다.</p>
<center>
<img src="../image/metabase17.png" width="800">
퀘스천 저장
</center>


<p>시각화 설정까지 마쳤으니 이제 퀘스천을 저장할 차례입니다. 퀘스천 작성 화면 우측 상단 Save 아이콘을 클릭하면 컬렉션을 생성할 때와 마찬가지로 퀘스천을 저장할 수 있습니다. 지금까지 세 가지 퀘스천에 대해 알아보고 그 중 심플 퀘스천을 작성해 시각화하고 저장하는 방법을 알아봤습니다. 마지막으로 방금 만든 퀘스천을 대시보드에 배치하고, 대시보드 필터를 적용해보겠습니다.</p>
<hr>
<h2 id="6-대시보드"><a href="#6-대시보드" class="headerlink" title="6. 대시보드"></a>6. 대시보드</h2><p>대시보드는 작성한 퀘스천들을 한 화면에 모아서 볼 수 있는 게시판과 같은 기능이라고 볼 수 있습니다. 그리고 퀘스천들을 하나의 화면에서 보는 것뿐만 아니라, 배치한 퀘스천에 대시보드 필터를 적용하여 퀘스천을 새로 만들지 않고도 필터링된 데이터로 퀘스천을 갱신할 수도 있습니다.</p>
<p>
<img src="../image/metabase18.png" width="400" align="left">
<img src="../image/metabase19.png" width="400" align="center">
</p>

<p>대시보드 생성은 먼저 메인 메뉴에서 + 아이콘을 클릭, New dashboard를 선택하시면 새로운 대시보드를 만들 수 있습니다. 대시보드를 생성하는 것도 컬렉션, 퀘스천 생성과 다르지 않습니다.</p>
<center><img src="../image/metabase20.png" width="500"></center>

<p>대시보드를 생성하면 바로 대시보드 화면으로 이동하는데, 바로 아까 만들었던 퀘스천을 추가해보도록 하겠습니다. 대시보드 메뉴는 위 그림의 빨간 네모칸처럼 되어있는데, 메뉴에서 연필 아이콘을 클릭하면 대시보드 편집 아이콘으로 바뀌게 됩니다.</p>
<center>
<img src="../image/metabase21.png" width="600">
대시보드에 배치할 퀘스천 선택
</center>

<p>이제 퀘스천을 대시보드에 배치해보겠습니다. + 모양의 퀘스천 배치(①) 아이콘을 클릭하고 퀘스천이 저장된 경로로 이동하여 아까 만들었던 ‘월별 주문 수’ 퀘스천을 클릭합니다.</p>
<center>
<img src="../image/metabase22.png" width="500">
퀘스천 배치 및 크기 조절
</center>

<p>퀘스천을 배치하면 격자모양이 보이는데, 가로는 최대 18칸, 세로는 제한없이 퀘스천을 배치가 가능하도록 되어 있습니다. 하지만 너무 많은 퀘스천을 배치하게 되면 로딩 속도가 길어지는 등 퍼포먼스가 떨어질 수 있어 한 화면 내에서 대시보드를 구성할 것을 추천드립니다.</p>
<center>
<img src="../image/metabase23.png" width="800">
대시보드에 배치된 퀘스천
</center>

<p>퀘스천을 대시보드에 배치했으니, 다음은 필터를 적용해보겠습니다. 우측 상단 편집 메뉴에서 초록색 네모칸 표시된 필터 추가 아이콘을 클릭하면 아래 그림처럼 필터 종류를 선택할 수 있습니다.</p>
<center><img src="../image/metabase24.png" width="800"></center>

<p>필터 종류는 <code>Time</code>, <code>Location</code>, <code>ID</code>, <code>Other Categories</code> 네 가지로 나뉘는데, 간단하게 설명하면 아래와 같습니다.</p>
<ul>
<li>  Time : 날짜, 시간</li>
<li>  Location : 국가, 도시, 우편번호 등</li>
<li>  ID : Entity Key(PK), (Foreign Key)FK 등</li>
<li>  Other Categories : 위 세 가지에 포함되지 않는 기타 분류</li>
</ul>
<p>지금은 Time 필터를 적용해보겠습니다. 목록에서 Time을 클릭하면 주황색 박스처럼 필터 세부 종류를 고를 수 있는데, All Options가 다른 옵션들을 모두 포함하므로 이것을 선택하겠습니다.</p>
<center><img src="../image/metabase25.png" width="800"></center>

<p>필터를 추가하고 나면 배치한 퀘스천과 매핑을 해야 하는데, 위에서 말씀드린 테이블 설정의 <strong>필드타입과 필터의 타입이 일치해야 매핑이 가능</strong>합니다. Time 필터를 선택했기 때문에 퀘스천과 매핑할 수 있는 필드도 날짜만 표시되는 것을 볼 수 있습니다. 현재 퀘스천에 사용된 ORDER 테이블의 CREATED_AT을 선택하겠습니다.</p>
<center>
<img src="../image/metabase26.png" width="400">
대시보드 저장
</center>

<p>퀘스천과 대시보드 필터를 매핑하고, 편집 메뉴 위에 있는 Save 버튼을 클릭해 편집한 내용을 저장합니다.</p>
<center>
<img src="../image/metabase27.png" width="800">
필터 적용 및 비교
</center>
<br><br>

<center>
<img src="../image/metabase28.png" width="800">
필터 설정된 대시보드
</center>

<p>퀘스천 좌측 상단에 추가된 필터를 클릭해서 원하는 날짜 구간을 선택하면 선택된 구간의 날짜로 데이터가 새로고침 되는 것을 확인할 수 있습니다. 이처럼 퀘스천을 대시보드에 배치하고 필터를 이용하면 비슷한 퀘스천을 여러 개 만들 필요 없이, 하나의 퀘스천으로 여러 조건의 데이터를 조회할 수 있습니다.</p>
<hr>
<h2 id="7-후기"><a href="#7-후기" class="headerlink" title="7. 후기"></a>7. 후기</h2><p>지금까지 BI툴 메타베이스에 대한 기본적인 기능과 간단한 퀘스천 작성, 대시보드 구성까지 해봤습니다. 메타베이스를 처음 접하는 분들을 기준으로 최대한 쉽게 풀어서 쓰려고 했는데 글재주가 없어서 너무 두서없이 작성한 건 아닌가 싶습니다. 그래도 전달이 잘 되었으면 합니다🙂 그리고 툴의 핵심적인 기능들만 추리다보니 글로만 설명하고 넘어간 다른 시각화 차트나 클릭링크같은 기능들은 소개하지 못해 아쉬움이 남는 것 같습니다. 다음에 기회가 된다면 해당 부분에 대해서도 다뤄보고 싶습니다. 긴 글 읽어주셔서 감사합니다.</p>

        </div>
        <footer class="article-footer">
            



    <a data-url="https://vntgcorp.github.io/metabase_visualization/" data-id="ckybarutv0000rsuw8fly75dr" class="article-share-link"><i class="fa fa-share"></i>Share</a>
<script>
    (function ($) {
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

        </footer>
    </div>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "author": {
            "@type": "Person",
            "name": "VNTG"
        },
        "headline": "Metabase를 활용한 통계데이터 시각화",
        "image": "https://VntgCorp.github.io../../../image/metabase_logo.png",
        "keywords": "",
        "genre": "Data Metabase",
        "datePublished": "2022-01-13",
        "dateCreated": "2022-01-13",
        "dateModified": "2022-01-13",
        "url": "https://VntgCorp.github.io/metabase_visualization/",
        "description": "
1. 메타베이스란?
2. 화면 구성
3. 컬렉션
4. 연동된 데이터소스
5. 퀘스천
심플 퀘스천
커스텀 퀘스천
네이티브 쿼리
시각화


6. 대시보드
7. 후기

안녕하세요, VNTG Dataforge 팀 데이터 엔지니어 유성열입니다. 데이터 엔지니어는 기업에서 발생하는 데이터들을 수집하고, 가공, 저장하여 관리하는 업무를 담당합니다. 데이터를 분석하려면",
        "wordCount": 1802
    }
</script>

</article>



                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>Contact:</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="envelope" href="mailto:techblog@vntgcorp.com" target="_blank" rel="noopener">
                        <i class="icon fa fa-envelope"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/VntgCorp" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="home" href="https://www.vntgcorp.com/" target="_blank" rel="noopener">
                        <i class="icon fa fa-home"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="http://blog.vntgcorp.com/" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
        
<nav id="article-nav">
    
    
        <a href="/level2process_computer/" id="article-nav-older" class="article-nav-link-wrap">
        <strong class="article-nav-caption">older</strong>
        <p class="article-nav-title">Process Computer팀 업무 및 관련 기술 소개</p>
        <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
        </a>
    
</nav>

    
    <div class="widgets-container">
        
            
                

            
                
    <div class="widget-wrap">
        <h3 class="widget-title">recents</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/metabase_visualization/" class="thumbnail">
    
    
        <span style="background-image:url(../../../image/metabase_logo.png)" alt="Metabase를 활용한 통계데이터 시각화" class="thumbnail-image"></span>
    
    
</a>



  

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Data/">Data</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Data/Metabase/">Metabase</a></p>
                            <p class="item-title"><a href="/metabase_visualization/" class="title">Metabase를 활용한 통계데이터 시각화</a></p>
                            <p class="item-date"><time datetime="2022-01-13T06:00:00.000Z" itemprop="datePublished">2022-01-13</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/level2process_computer/" class="thumbnail">
    
    
        <span style="background-image:url(../../../image/l2pc.jpg)" alt="Process Computer팀 업무 및 관련 기술 소개" class="thumbnail-image"></span>
    
    
</a>



  

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Data/">Data</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Data/Level2/">Level2</a></p>
                            <p class="item-title"><a href="/level2process_computer/" class="title">Process Computer팀 업무 및 관련 기술 소개</a></p>
                            <p class="item-date"><time datetime="2022-01-10T06:00:00.000Z" itemprop="datePublished">2022-01-10</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/grafana_df_op/" class="thumbnail">
    
    
        <span style="background-image:url(../../../image/grafana_df_op_00.png)" alt="Grafana를 활용한 데이터 가시화" class="thumbnail-image"></span>
    
    
</a>



  

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Data/">Data</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/Data/Grafana/">Grafana</a></p>
                            <p class="item-title"><a href="/grafana_df_op/" class="title">Grafana를 활용한 데이터 가시화</a></p>
                            <p class="item-date"><time datetime="2021-11-30T06:00:00.000Z" itemprop="datePublished">2021-11-30</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/devops_md_op/" class="thumbnail">
    
    
        <span style="background-image:url(../../../image/devops_md_op_00.png)" alt="Terraform Cloud 기반으로 인프라 구축 협업하기" class="thumbnail-image"></span>
    
    
</a>



  

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/DevOps/">DevOps</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/DevOps/Terraform/">Terraform</a></p>
                            <p class="item-title"><a href="/devops_md_op/" class="title">Terraform Cloud 기반으로 인프라 구축 협업하기</a></p>
                            <p class="item-date"><time datetime="2021-11-29T06:00:00.000Z" itemprop="datePublished">2021-11-29</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/DockerWithoutDesktop/" class="thumbnail">
    
    
        <span style="background-image:url(../../image/dockermoney.png)" alt="Docker Desktop 없이 Windows에서 Docker 사용하기" class="thumbnail-image"></span>
    
    
</a>



  

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Docker/">Docker</a></p>
                            <p class="item-title"><a href="/DockerWithoutDesktop/" class="title">Docker Desktop 없이 Windows에서 Docker 사용하기</a></p>
                            <p class="item-date"><time datetime="2021-09-07T07:00:00.000Z" itemprop="datePublished">2021-09-07</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">categories</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ClickUp/">ClickUp</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data/">Data</a><span class="category-list-count">3</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Data/Grafana/">Grafana</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data/Level2/">Level2</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data/Metabase/">Metabase</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/">DevOps</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/CICD/">CICD</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DevOps/Terraform/">Terraform</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/FastAPI/">FastAPI</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Static-Site-Generator/">Static Site Generator</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Static-Site-Generator/Gatsby/">Gatsby</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Static-Site-Generator/Hexo/">Hexo</a><span class="category-list-count">1</span></li></ul></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">archives</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a><span class="archive-list-count">2</span></li></ul>
        </div>
    </div>


            
                

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">links</h3>
        <div class="widget">
            <ul>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class=""></a>
                </h1>
                <p>&copy; VNTG. Powered by GitHub Pages.</p>                
            </div>
            <div class="footer-plugins">
              
    


            </div>
        </div>
    </div>
</footer>



    </div>
    
    
    <script>
    var disqus_shortname = 'hexo-theme-hueman';
    
    
    var disqus_url = 'https://vntgcorp.github.io/metabase_visualization/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>





    
    
        
<script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>

    
    

    
    
    



<!-- Custom Scripts -->

<script src="/js/main.js"></script>


</body>
</html>
